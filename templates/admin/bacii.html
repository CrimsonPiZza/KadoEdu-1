<script>
var Name_EN = ""
var Name_KH = ""
var Classid = ""

function passData(en, kh, id){
  Name_EN = en
  Name_KH = kh
  Classid = id
  getData()
}

function getData(){
  document.getElementById("edit_En").value = Name_EN
  document.getElementById("edit_Kh").value = Name_KH
}
</script>
{% extends 'admin/master.html' %} {% block body %} {{ super() }} {% if
current_user.is_authenticated %}

<!-- Content Header (Page header) -->
<section class="content-header affix">
  <h1>
    Bac II Content
  </h1>
  <ol class="breadcrumb">
    <li>
      <a href="/admin/"><i class="fa fa-dashboard"></i> Home</a>
    </li>
    <li class="active">Custom</li>
  </ol>
</section>

<section class="content">
  <div class="row">
    <!-- Left col -->
    <section class="container">
      <ul class="nav nav-tabs">
        <li class="active"><a data-toggle="tab" href="#home">Home</a></li>
        <li><a data-toggle="tab" href="#post">Post</a></li>
        <li><a data-toggle="tab" href="#subject">Subject</a></li>
      </ul>

      <div class="tab-content">
        <div id="home" class="tab-pane fade in active">
          <div class="row">
            <div class="center-block">
              <!-- {%for x in _list %}
              <div class="card" style="width: 18rem;">
                <img
                  src="{{x.url}}"
                  class="card-img-top"
                  width="300px"
                  height="350px"
                  alt="..."
                />
                <div class="card-body">
                  <h5 class="card-title">{{x.user}}</h5>
                  <p class="card-text">{{x.content}}</p>
                  <a href="#" class="btn btn-primary">Like</a>
                </div>
              </div>
              {% endfor %} -->
            </div>
          </div>
        </div>
        <div id="post" class="tab-pane fade">
          <form class="form-horizontal">
            <div class="form-group">
              <label class="col-sm-2 control-label">Subject</label>
              <div class="col-sm-10">
                <select class="form-control">
                  {% for x in subject %}
                    <option>{{x}}</option>
                  {% endfor %}
                </select>
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label">Content</label>
              <div class="col-sm-10">
                <textarea
                  class="form-control rounded-0"
                  placeholder="Mission En"
                  rows="5"
                ></textarea>
                <p>*Example: Today we post content</p>
              </div>
            </div>
            <div class="form-group">
              <label class="col-sm-2 control-label">File input</label>
              <div class="col-sm-10">
                <input type="file" id="exampleInputFile" multiple />
              </div>
            </div>
            <div class="form-group">
              <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-primary">Upload</button>
              </div>
            </div>
          </form>
        </div>
        <div id="subject" class="tab-pane fade">

          <button style="margin: 1em 1em 1em 0em;" id="addSubject" type="button" name="btn" value="Submit" id="submitBtn" data-toggle="modal" data-target="#add_subject" class="btn btn-primary">
            Add Subject
          </button>        

          <table id="school_table" class="m-5 table table-striped table-bordered table-sm">
            <thead class="thead-dark">
              <tr>
                <th scope="col" class="text-center">#</th>
                <th scope="col" class="text-center">Name En</th>
                <th scope="col" class="text-center">Name Kh</th>
                <th scope="col" class="no-sort text-center">Action</th>
              </tr>
            </thead>
            <tbody>
              {% for x in _list %}
              <tr>
                <th scope="row" class="text-center">{{x.row}}</th>
                <th class="text-center">{{x.name_en}}</th>
                <th class="text-center">{{x.name_kh}}</th>
                <th class="text-center">
                  <button type="button" name="btn" onclick="passData(`{{x.name_en}}`,`{{x.name_kh}}`),`{{x.row}}`" value="Submit" id="submitBtn" data-toggle="modal" data-target="#confirm-submit" class="btn btn-default">
                    <i class="fa fa-edit"></i>
                  </button>
                  <button type="button" class="btn btn-danger">
                    <i class="fa fa-trash"></i>
                  </button>
                </th>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
        <div class="modal fade" id="add_subject" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">Add Subject</div>
              <form id="form_insert_subject" class="form-horizontal" action="/admin/bacii/" method="POST">
                <br />
                <div class="form-group">
                  <input name="form_method" value="save_subject_bacii" hidden/>
                  <label class="col-sm-2 control-label">Subject Name En</label>
                  <div class="col-sm-9">
                    <input id="input_subject_name_en" type="text" name="subject_name_en" class="form-control" placeholder="Name En"/>
                    <p>*Example: Physical</p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label">Subject Name Kh</label>
                  <div class="col-sm-9">
                    <input id="input_subject_name_kh" type="text" name="subject_name_kh" class="form-control" placeholder="Name Kh"/>
                    <p>*Example: រូបវិទ្យា</p>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                  <input id="submit" type="submit" value="Save" class="btn btn-default"/>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="modal fade" id="confirm-submit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
          <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                Edits
              </div>
              <form class="form-horizontal">
                <br />
                <div class="form-group">
                  <label class="col-sm-2 control-label">Name En</label>
                  <div class="col-sm-9">
                    <input id="edit_En" type="text" class="form-control" placeholder="Name En"/>
                    <p>*Example: Physical</p>
                  </div>
                </div>
                <div class="form-group">
                  <label class="col-sm-2 control-label">Name Kh</label>
                  <div class="col-sm-9">
                    <input id="edit_Kh" type="text" class="form-control" placeholder="Name Kh" />
                    <p>*Example: រូបវិទ្យា</p>
                  </div>
                </div>
                <div class="modal-footer">
                  <button
                    type="button"
                    class="btn btn-default"
                    data-dismiss="modal"
                  >
                    Cancel
                  </button>
                  <a href="#" id="submit" class="btn btn-success success"
                    >Update</a
                  >
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>
    <!-- /.Left col -->
  </div>
  <!-- /.row (main row) -->
</section>
<!-- /.content -->

<script
  src="{{url_for('static',filename='js/jquery-3.3.1.min.js')}}"
  type="text/javascript"
></script>
<script
  src="{{url_for('static',filename='js/jquery.dataTables.min.js')}}"
  type="text/javascript"
></script>
<script
  src="{{url_for('static',filename='js/dataTables.jqueryui.min.js')}}"
  type="text/javascript"
></script>
<script
  src="{{url_for('static',filename='js/dataTables.bootstrap.min.js')}}"
  type="text/javascript"
></script>

<script
  src="../../static/js/pages/bacii.js"
  type="text/javascript"
></script>

{% else %}

<center>
  <section class="content" style="color: white">
    <div class="col-sm-12">
      <h1>Flask-Admin example</h1>
      <p class="lead">
        Authentication
      </p>
      <p>
        This example shows how you can use Flask-Admin in an admin template,
        <br />
        here I used AdminLTE and
        <a
          href="https://pythonhosted.org/Flask-Security/index.html"
          target="_blank"
          >Flask-Security</a
        >
        for authentication.
      </p>
      {% if not current_user.is_authenticated %}
      <p>
        You can register as a regular user, or log in as a superuser with the
        following credentials: <br /><br />

        email: <b>admin</b> <br />
        password: <b>admin</b> <br />
        <br />
      </p>

      <p>
        <a class="btn btn-primary" href="{{ url_for('security.login') }}"
          >Login</a
        >
        <a class="btn btn-default" href="{{ url_for('security.register') }}"
          >Register</a
        >
      </p>
      {% endif %}
      <br />
      <p>
        <a class="btn btn-primary" href="/"
          ><i class="glyphicon glyphicon-chevron-left"></i> Back</a
        >
      </p>
    </div>
  </section>
</center>

<br /><br /><br /><br /><br /><br /><br /><br /><br />
<br /><br /><br /><br /><br /><br /><br /><br /><br /><br />
{% endif %} {% endblock body %}
